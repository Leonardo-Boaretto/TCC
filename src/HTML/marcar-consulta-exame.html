<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Marcar Consulta/Exame</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../CSS/marcar-consulta-exame.css">
    <link rel="stylesheet" href="../CSS/style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <header class="header">
        <div class="logo">
            <h1>Sistema de Gestão Médica</h1>
        </div>
        <nav>
            <ul>
                <li><a href="funcionario.html">Início</a></li>
                <li><a href="marcar-consulta-exame.html" class="active">Agendamentos</a></li>
            </ul>
        </nav>
    </header>

    <div class="main-content">
        <h2>Marcar Consulta ou Exame</h2>
        
        <div class="step-container">
            <div id="step1" class="step active">
                <p class="instruction">Selecione o tipo de agendamento que deseja realizar:</p>
                <div class="option-buttons">
                    <button class="btn btn-primary btn-lg" onclick="selecionarTipo('consulta')">Consulta Médica</button>
                    <button class="btn btn-primary btn-lg" onclick="selecionarTipo('exame')">Exame</button>
                </div>
            </div>
            
            <div id="step2" class="step">
                <h3>Selecione o Paciente</h3>
                <div class="search-container">
                    <input type="text" id="searchCliente" class="search-input" placeholder="Buscar Paciente por nome ou email...">
                </div>
                <ul id="listaClientes" class="list-group">
                    <!-- Lista de clientes será carregada via JavaScript -->
                </ul>
                <div class="nav-buttons">
                    <button class="btn btn-secondary" onclick="voltarEtapa(1)">Voltar</button>
                </div>
            </div>
            
            <div id="step3" class="step">
                <h3>Selecione Data e Horário</h3>
                
                <div id="tipoConsultaContainer" class="form-group" style="display: none;">
                    <label for="tipoConsulta" class="form-label required">Tipo de Consulta:</label>
                    <select id="tipoConsulta" name="tipoConsulta" class="form-select" required>
                        <option value="">Selecione o tipo</option>
                        <option value="Primeira Consulta">Primeira Consulta</option>
                        <option value="Retorno">Retorno</option>
                        <option value="Emergência">Urgência</option>
                    </select>
                    <div class="invalid-feedback">
                        Por favor, selecione o tipo de consulta.
                    </div>

                    <label for="medicoConsulta" class="form-label mt-3 required">Médico:</label>
                    <select id="medicoConsulta" name="medicoConsulta" class="form-select" required>
                        <option value="">Selecione o médico</option>
                        <!-- Opções de médicos serão carregadas via JavaScript -->
                    </select>
                    <div class="invalid-feedback">
                        Por favor, selecione o médico.
                    </div>

                    <label for="especialidadeConsulta" class="form-label mt-3 required">Especialidade:</label>
                    <select id="especialidadeConsulta" name="especialidadeConsulta" class="form-select" required>
                        <option value="">Selecione a especialidade</option>
                        <option value="Clínico Geral">Clínico Geral</option>
                        <option value="Cardiologia">Cardiologia</option>
                        <option value="Dermatologia">Dermatologia</option>
                        <option value="Endocrinologia">Endocrinologia</option>
                        <option value="Ginecologia">Ginecologia</option>
                        <option value="Ortopedia">Ortopedia</option>
                        <option value="Pediatria">Pediatria</option>
                    </select>
                    <div class="invalid-feedback">
                        Por favor, selecione a especialidade.
                    </div>

                    <label for="observacoesConsulta" class="form-label mt-3">Observações:</label>
                    <textarea id="observacoesConsulta" name="observacoesConsulta" class="form-control" rows="3" placeholder="Informações adicionais sobre a consulta" maxlength="500"></textarea>
                    <div class="form-text">Máximo de 500 caracteres</div>
                </div>
                
                <div id="tipoExameContainer" class="form-group" style="display: none;">
                    <label for="tipoExame">Tipo de Exame:</label>
                    <select id="tipoExame" name="tipoExame" class="form-control">
                        <option value="">Selecione o tipo</option>
                        <option value="Sangue">Exame de Sangue</option>
                        <option value="Urina">Exame de Urina</option>
                        <option value="Fezes">Exame de Fezes</option>
                        <option value="Cardiologico">Exame Cardiológico</option>
                        <option value="Respiratorio">Exame Respiratório</option>
                        <option value="Imagem">Exame de Imagem</option>
                    </select>

                    <label for="especificacaoExame" class="form-label mt-3 required">Especificação do Exame:</label>
                    <input type="text" id="especificacaoExame" name="especificacaoExame" class="form-control" placeholder="Ex: Hemograma Completo, Raio-X do Tórax" required>
                    <div class="invalid-feedback">
                        Por favor, especifique o exame.
                    </div>

                    <label for="medicoSolicitanteExame" class="form-label mt-3 required">Médico que Solicitou o Exame:</label>
                    <select id="medicoSolicitanteExame" name="medicoSolicitanteExame" class="form-select" required>
                        <option value="">Selecione o médico solicitante</option>
                        <!-- Opções de médicos serão carregadas via JavaScript -->
                    </select>
                    <div class="invalid-feedback">
                        Por favor, selecione o médico solicitante.
                    </div>

                    <label for="medicoExame" class="form-label mt-3">Médico Realizante:</label>
                    <select id="medicoExame" name="medicoExame" class="form-select" disabled>
                        <option value="">Selecione o médico realizante</option>
                        <!-- Opções de médicos serão carregadas via JavaScript -->
                    </select>
                    <div id="medicoExameFeedback" class="invalid-feedback" style="display: none;">
                        Por favor, selecione o médico realizante.
                    </div>
                    <div class="form-text">Obrigatório apenas para exames cardiológicos, respiratórios e de imagem</div>
                    
                    <div class="form-group mt-3">
                        <label for="preparacao" class="form-label"><i class="fas fa-info-circle"></i> Preparação Necessária:</label>
                        <select id="preparacao" name="preparacao" class="form-select" required>
                            <option value="">Selecione a preparação necessária</option>
                            <option value="jejum-8">Jejum de 8 horas</option>
                            <option value="jejum-12">Jejum de 12 horas</option>
                            <option value="jejum-4">Jejum de 4 horas</option>
                            <option value="sem-jejum">Sem jejum</option>
                        </select>
                        <div class="invalid-feedback">
                            Por favor, selecione a preparação necessária.
                        </div>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="data">Data:</label>
                            <input type="date" id="data" name="data" class="form-control">
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="form-group">
                            <label for="horario">Horário:</label>
                            <select id="horario" name="horario" class="form-control">
                                <option value="">Selecione um horário</option>
                                <!-- Horários serão carregados via JavaScript -->
                            </select>
                        </div>
                    </div>
                </div>
                <div class="nav-buttons">
                    <button type="button" class="btn btn-secondary" onclick="voltarEtapa(2)">Voltar</button>
                    <button type="button" class="btn btn-success" onclick="confirmarAgendamento()">Confirmar Agendamento</button>
                </div>
            </div>
            
            <!-- Etapa 4: Confirmação -->
            <div id="step4" class="step">
                <div class="confirmation-box">
                    <h3>Agendamento Confirmado!</h3>
                    <p>Seu agendamento foi realizado com sucesso.</p>
                    
                    <div id="confirmationDetails">
                        <!-- Detalhes do agendamento serão inseridos via JavaScript -->
                    </div>
                    
                    <button class="btn btn-primary" onclick="novoAgendamento()">Fazer Novo Agendamento</button>
                </div>
            </div>
            </div>
        </div>
    </div>

    <script src="../JS/marcar-consulta-exame.js"></script>
</body>
</html>
